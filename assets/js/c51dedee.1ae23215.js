"use strict";(self.webpackChunkcompositor_live=self.webpackChunkcompositor_live||[]).push([[249],{4071:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>l,default:()=>y,frontMatter:()=>u,metadata:()=>d,toc:()=>h});var i=t(4848),s=t(8453),r=t(1470),o=t(9365);const a="data:image/webp;base64,UklGRpwGAABXRUJQVlA4IJAGAADwxACdASoABdACPu12tlMko6KhIAgAlh2J6W7hd2EbQAnsA99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvrAAA/v+dGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=",c=t.p+"assets/images/quick_start_2-52e18a12081cc90cdac41e805195ef07.webp",u={},l="Quick start",d={id:"guides/quick-start",title:"Quick start",description:"This guide will explain basic LiveCompositor setup.",source:"@site/pages/guides/quick-start.md",sourceDirName:"guides",slug:"/guides/quick-start",permalink:"/docs/guides/quick-start",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Guides",permalink:"/docs/category/guides"},next:{title:"How to deliver input streams",permalink:"/docs/guides/deliver-input"}},p={},h=[{value:"Configure inputs and output",id:"configure-inputs-and-output",level:2},{value:"Start the compositor",id:"start-the-compositor",level:3},{value:"Register input stream <code>input_1</code>.",id:"register-input-stream-input_1",level:3},{value:"Register input stream <code>input_2</code>.",id:"register-input-stream-input_2",level:3},{value:"Register output stream <code>output_1</code>.",id:"register-output-stream-output_1",level:3},{value:"Update output",id:"update-output",level:2}];function v(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"quick-start",children:"Quick start"}),"\n",(0,i.jsx)(n.p,{children:"This guide will explain basic LiveCompositor setup."}),"\n",(0,i.jsx)(n.h2,{id:"configure-inputs-and-output",children:"Configure inputs and output"}),"\n",(0,i.jsx)(n.h3,{id:"start-the-compositor",children:"Start the compositor"}),"\n",(0,i.jsxs)(r.A,{queryString:"lang",children:[(0,i.jsx)(o.A,{value:"http",label:"HTTP",children:(0,i.jsxs)(n.p,{children:["Start the compositor server. Check out ",(0,i.jsx)(n.a,{href:"/docs/deployment/configuration",children:"configuration page"})," for available configuration options."]})}),(0,i.jsxs)(o.A,{value:"membrane",label:"Membrane Framework",children:[(0,i.jsxs)(n.p,{children:["Following code snippets are implementing ",(0,i.jsx)(n.code,{children:"handle_init/2"})," or ",(0,i.jsx)(n.code,{children:"handle_setup/2"})," callbacks. Those\nare just examples, you can use any ",(0,i.jsxs)(n.a,{href:"https://hexdocs.pm/membrane_core/Membrane.Pipeline.html#callbacks",children:[(0,i.jsx)(n.code,{children:"Membrane.Pipeline"})," callbacks"]}),"\ninstead."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-elixir",children:"alias Membrane.LiveCompositor\n\ndef handle_init(ctx, opts) do\n  spec = [\n    ...\n\n    child(:live_compositor, %LiveCompositor{\n      framerate: {30, 1}\n    }),\n\n    ...\n  ]\n  {[spec: spec], %{}}\nend\n"})})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"register-input-stream-input_1",children:["Register input stream ",(0,i.jsx)(n.code,{children:"input_1"}),"."]}),"\n",(0,i.jsxs)(r.A,{queryString:"lang",children:[(0,i.jsxs)(o.A,{value:"http",label:"HTTP",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST: /api/input/input_1/register\nContent-Type: application/json\n\n{\n  "type": "rtp_stream",\n  "transport_protocol": "tcp_server",\n  "port": 9001,\n  "video": {\n    "decoder": "ffmpeg_h264"\n  }\n}\n'})}),(0,i.jsxs)(n.p,{children:["After receiving the response you can establish the connection and start sending the stream. Check out ",(0,i.jsx)(n.a,{href:"/docs/guides/deliver-input",children:"how to deliver input streams"})," to learn more."]}),(0,i.jsx)(n.p,{children:"In this example we are using RTP over TCP, but it could be easily replaced by UDP."})]}),(0,i.jsxs)(o.A,{value:"membrane",label:"Membrane Framework",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-elixir",children:'def handle_init(ctx, opts) do\n  spec = [\n    ...\n\n    video_input_1_spec\n    |> via_in(Pad.ref(:video_input, "video_input_1"))\n    |> get_child(:live_compositor),\n\n    audio_input_1_spec\n    |> via_in(Pad.ref(:audio_input, "audio_input_1"))\n    |> get_child(:live_compositor),\n\n    ...\n  ]\n  {[spec: spec], %{}}\nend\n'})}),(0,i.jsxs)(n.p,{children:["where ",(0,i.jsx)(n.code,{children:"video_input_1_spec"})," and ",(0,i.jsx)(n.code,{children:"audio_input_1_spec"})," are elements producing H264 video and Opus audio respectively."]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"register-input-stream-input_2",children:["Register input stream ",(0,i.jsx)(n.code,{children:"input_2"}),"."]}),"\n",(0,i.jsxs)(r.A,{queryString:"lang",children:[(0,i.jsxs)(o.A,{value:"http",label:"HTTP",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST: /api/input/input_2/register\nContent-Type: application/json\n\n{\n  "type": "rtp_stream",\n  "transport_protocol": "tcp_server",\n  "port": 9002,\n  "video": {\n    "decoder": "ffmpeg_h264"\n  }\n}\n'})}),(0,i.jsxs)(n.p,{children:["After receiving the response you can establish the connection and start sending the stream. Check out ",(0,i.jsx)(n.a,{href:"/docs/guides/deliver-input",children:"how to deliver input streams"})," to learn more."]}),(0,i.jsx)(n.p,{children:"In this example we are using RTP over TCP, but it could be easily replaced by UDP."})]}),(0,i.jsxs)(o.A,{value:"membrane",label:"Membrane Framework",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-elixir",children:'def handle_init(ctx, opts) do\n  spec = [\n    ...\n\n    video_input_2_spec\n    |> via_in(Pad.ref(:video_input, "video_input_2"))\n    |> get_child(:live_compositor),\n\n    audio_input_2_spec\n    |> via_in(Pad.ref(:audio_input, "audio_input_2"))\n    |> get_child(:live_compositor),\n\n    ...\n  ]\n  {[spec: spec], %{}}\nend\n'})}),(0,i.jsxs)(n.p,{children:["where ",(0,i.jsx)(n.code,{children:"video_input_2_spec"})," and ",(0,i.jsx)(n.code,{children:"audio_input_2_spec"})," are elements that produce H264 video and Opus audio respectively."]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"register-output-stream-output_1",children:["Register output stream ",(0,i.jsx)(n.code,{children:"output_1"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Configure it to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["render an empty ",(0,i.jsx)(n.a,{href:"/docs/api/components/View",children:(0,i.jsx)(n.code,{children:"View"})})," component with a background color set to ",(0,i.jsx)(n.code,{children:"#4d4d4d"})," (gray)"]}),"\n",(0,i.jsx)(n.li,{children:"produce silent audio"}),"\n"]}),"\n",(0,i.jsxs)(r.A,{queryString:"lang",children:[(0,i.jsxs)(o.A,{value:"http",label:"HTTP",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST: /api/output/output_1/register\nContent-Type: application/json\n\n{\n  "type": "rtp_stream",\n  "transport_protocol": "tcp_server",\n  "port": 9003,\n  "video": {\n    "resolution": { "width": 1280, "height": 720 },\n    "encoder": {\n      "type": "ffmpeg_h264",\n      "preset": "ultrafast"\n    },\n    "initial": {\n      "root": {\n        "type": "view",\n        "background_color_rgba": "#4d4d4dff"\n      }\n    }\n  },\n  "audio": {\n    "encoder": {\n      "type": "opus",\n      "channels": "stereo"\n    },\n    "initial": {\n      "inputs": []\n    }\n  }\n}\n'})}),(0,i.jsxs)(n.p,{children:["You can configure the output framerate and the sample rate using ",(0,i.jsx)(n.a,{href:"/docs/deployment/configuration#live_compositor_output_framerate",children:(0,i.jsx)(n.code,{children:"LIVE_COMPOSITOR_OUTPUT_FRAMERATE"})})," and ",(0,i.jsx)(n.a,{href:"/docs/deployment/configuration#live_compositor_output_sample_rate",children:(0,i.jsx)(n.code,{children:"LIVE_COMPOSITOR_OUTPUT_SAMPLE_RATE"})})," environment variables."]}),(0,i.jsxs)(n.p,{children:["After receiving the response you can establish the connection and start listening for the stream. Check out ",(0,i.jsx)(n.a,{href:"/docs/guides/receive-output",children:"how to receive output streams"})," to learn more."]}),(0,i.jsx)(n.p,{children:"In this example we are using RTP over TCP, if you prefer to use UDP you need start listening on the specified port before sending register request to make sure you are not losing\nfirst frames."})]}),(0,i.jsxs)(o.A,{value:"membrane",label:"Membrane Framework",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-elixir",children:'def handle_init(ctx, opts) do\n  spec = [\n    ...\n\n    get_child(:live_compositor),\n    |> via_out(Pad.ref(:video_output, "video_output_1"), options: [\n      width: 1280,\n      height: 720,\n      encoder: %LiveCompositor.Encoder.FFmpegH264{\n        preset: :ultrafast\n      },\n      initial: %{\n        root: %{\n          type: :view,\n          background_color_rgba: "#4d4d4dff",\n        },\n      }\n    ])\n    |> video_output_1_spec,\n    \n    get_child(:live_compositor)\n    |> via_out(Pad.ref(:audio_output, "audio_output_1"), options: [\n      encoder: LiveCompositor.Encoder.Opus.t(),\n      initial: %{\n        inputs: []\n      }\n    ])\n    |> audio_output_1_spec\n\n    ...\n  ]\n  {[spec: spec], %{}}\nend\n'})}),(0,i.jsxs)(n.p,{children:["where ",(0,i.jsx)(n.code,{children:"video_output_1_spec"})," and ",(0,i.jsx)(n.code,{children:"audio_output_1_spec"})," are elements that can consume H264 video and Opus audio respectively."]}),(0,i.jsxs)(n.p,{children:["You can configure output framerate and sample rate using ",(0,i.jsxs)(n.a,{href:"https://hexdocs.pm/membrane_live_compositor_plugin/Membrane.LiveCompositor.html#module-bin-options",children:[(0,i.jsx)(n.code,{children:"framerate"})," and ",(0,i.jsx)(n.code,{children:"output_sample_rate"})," bin options"]}),"."]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"View"})," component does not have any children, so on the output you should see just a blank screen of a specified color as shown below.\nThe ",(0,i.jsx)(n.code,{children:"initial.inputs"})," list in audio config is empty, so the output audio will be silent."]}),"\n",(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:a,style:{width:600}}),(0,i.jsx)(n.p,{children:"Output stream"})]}),"\n",(0,i.jsx)(n.h2,{id:"update-output",children:"Update output"}),"\n",(0,i.jsx)(n.p,{children:"Configure it to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Show input streams ",(0,i.jsx)(n.code,{children:"input_1"})," and ",(0,i.jsx)(n.code,{children:"input_2"})," using ",(0,i.jsx)(n.a,{href:"/docs/api/components/Tiles",children:(0,i.jsx)(n.code,{children:"Tiles"})})," component."]}),"\n",(0,i.jsxs)(n.li,{children:["Mix audio from input streams ",(0,i.jsx)(n.code,{children:"input_1"})," and ",(0,i.jsx)(n.code,{children:"input_2"}),", where ",(0,i.jsx)(n.code,{children:"input_1"})," volume is slightly lowered."]}),"\n"]}),"\n",(0,i.jsxs)(r.A,{queryString:"lang",children:[(0,i.jsx)(o.A,{value:"http",label:"HTTP",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST: /api/output/output_1/update\nContent-Type: application/json\n\n{\n  "video": {\n    "root": {\n      "type": "tiles",\n      "background_color_rgba": "#4d4d4dff",\n      "children": [\n        { "type": "input_stream", "input_id": "input_1" },\n        { "type": "input_stream", "input_id": "input_2" }\n      ]\n    }\n  },\n  "audio": {\n    "inputs": [\n      { "input_id": "input_1", volume: 0.9 },\n      { "input_id": "input_2" }\n    ]\n  }\n}\n'})})}),(0,i.jsx)(o.A,{value:"membrane",label:"Membrane Framework",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-elixir",children:'def handle_setup(ctx, state) do\n  video_request = %LiveCompositor.Request.UpdateVideoOutput{\n    output_id: "video_output_1",\n    root: %{\n      type: :tiles,\n      children: [\n        %{ type: :input_stream, input_id: :input_1 },\n        %{ type: :input_stream, input_id: :input_2 }\n      ]\n    }\n  }\n  audio_request = %LiveCompositor.Request.UpdateAudioOutput{\n    output_id: "audio_output_1",\n    inputs: [\n      %{ input_id: "input_1", volume: 0.9 },\n      %{ input_id: "input_2" }\n    ]\n  }\n  \n  events = [\n    notify_child: {:live_compositor, video_request},\n    notify_child: {:live_compositor, audio_request}\n  ]\n\n  {events, state}\nend\n'})})})]}),"\n",(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("img",{src:c,style:{width:600}}),(0,i.jsx)(n.p,{children:"Output stream"})]})]})}function y(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(v,{...e})}):v(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>o});t(6540);var i=t(8215);const s={tabItem:"tabItem_Ymn6"};var r=t(4848);function o(e){let{children:n,hidden:t,className:o}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,o),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>g});var i=t(6540),s=t(8215),r=t(3104),o=t(6347),a=t(205),c=t(7485),u=t(1682),l=t(9466);function d(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:s}}=e;return{value:n,label:t,attributes:i,default:s}}))}(t);return function(e){const n=(0,u.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function v(e){let{queryString:n=!1,groupId:t}=e;const s=(0,o.W6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,c.aZ)(r),(0,i.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})}),[r,s])]}function y(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,r=p(e),[o,c]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:r}))),[u,d]=v({queryString:t,groupId:s}),[y,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,r]=(0,l.Dv)(t);return[s,(0,i.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:s}),m=(()=>{const e=u??y;return h({value:e,tabValues:r})?e:null})();(0,a.A)((()=>{m&&c(m)}),[m]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);c(e),d(e),f(e)}),[d,f,r]),tabValues:r}}var f=t(2303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(4848);function _(e){let{className:n,block:t,selectedValue:i,selectValue:o,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:u}=(0,r.a_)(),l=e=>{const n=e.currentTarget,t=c.indexOf(n),s=a[t].value;s!==i&&(u(n),o(s))},d=e=>{let n=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>c.push(e),onKeyDown:d,onClick:l,...r,className:(0,s.A)("tabs__item",m.tabItem,r?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function k(e){let{lazy:n,children:t,selectedValue:s}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function A(e){const n=y(e);return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",m.tabList),children:[(0,b.jsx)(_,{...e,...n}),(0,b.jsx)(k,{...e,...n})]})}function g(e){const n=(0,f.A)();return(0,b.jsx)(A,{...e,children:d(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(6540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);